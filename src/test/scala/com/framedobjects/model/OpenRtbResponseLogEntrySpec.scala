package com.framedobjects.model

import org.scalatest.Matchers
import org.scalatest.FlatSpec

class OpenRtbResponseLogEntrySpec extends FlatSpec with Matchers {
  
  "" should "" in {
    val log = """{"time":1441058804230,"tpid":58,"requestId":"40108144105880413801T058","responseTime":72,"response":"\n{\n \"id\": \"40108144105880413801T058\",\n \n \"seatbid\":[\n {\n  \n  \"bid\":[\n  {\n   \"id\": \"92955136722543298031\",\n   \"impid\": \"1\",\n   \"price\": 0.150,\n   \"adomain\": [\"onlinecasino.de\"],\n   \"adm\": \"<script type=\\\"text\\/javascript\\\" language=\\\"JavaScript\\\">\\n<!--\\nvar adspirit_pid = \\\"87\\\"; document.write('<div class=\\\"asmbeacon asmb2\\\" style=\\\"position:absolute; left:0px; top:0px;\\\"><img src=\\\"http:\\/\\/ads.admized.com\\/adview.php?tz=1441058806109313&pid=87&kid=1739&wmid=16185&sid=78&nvc=1&prenca=${AUCTION_PRICE}&pubkey=1618587010006465609921&prencmode=n&target=-\\\" width=\\\"1\\\" height=\\\"1\\\" border=\\\"0\\\" style=\\\"width:1px; height:1px; border:0px white solid !important;\\\" \\/><\\/div><a target=\\\"_blank\\\" href=\\\"http:\\/\\/ads.admized.com\\/adclick.php?tz=1441058806317607&pid=87&kid=1739&wmid=16185&wsid=6&uid=4&sid=78&ord=1441058806&clex=3600&target1=http%3A%2F%2Fservice.onlinecasino.de%2Froute%3Fi%3D127%26p%3D1096\\\" ><img border=\\\"0\\\" style=\\\"border:0px white solid !important; width:160px; height:600px;\\\" width=\\\"160\\\" height=\\\"600\\\" alt=\\\"Hier klicken!\\\" src=\\\"http:\\/\\/cdn.adspirit.de\\/banner\\/admized\\/1739\\/2015-06-09\\/0_incentive_160x600_v2.gif\\\" \\/><\\/a>\\\\r\\\\n<scr'+'ipt type=\\\"text\\/javascr'+'ipt\\\" language=\\\"JavaScr'+'ipt\\\"><'+'!'+'-- \\\\r\\\\n \\/\\/--'+'><\\/scr'+'ipt><div class=\\\"asm_add\\\" style=\\\"position:absolute; left:0px; top:0px;\\\"> <iframe src=\\\"http:\\/\\/ip.casalemedia.com\\/usermatch?s=180094&cb=http%3A%2F%2Fads.admized.com%2Frtb%2Fgetusermatch.php%3Fdataid%3D30%26external_user_id%3D\\\" width=\\\"1\\\" height=\\\"1\\\" style=\\\"border:0px solid white;\\\" noresize=\\\"noresize\\\" scrolling=\\\"no\\\"\\\\r\\\\n        frameborder=\\\"0\\\" marginheight=\\\"0\\\" marginwidth=\\\"0\\\" ALLOWTRANSPARENCY=\\\"true\\\"\\\\r\\\\n><\\/iframe><iframe width=\\\"1\\\" height=\\\"1\\\" noresize=\\\"noresize\\\" scrolling=\\\"no\\\"\\\\r\\\\n        frameborder=\\\"0\\\" marginheight=\\\"0\\\" marginwidth=\\\"0\\\"\\\\r\\\\n        src=\\\"http:\\/\\/ads.pubmatic.com\\/AdServer\\/js\\/user_sync.html?p=41738&predirect=http%3A%2F%2Fads.admized.com%2Frtb%2Fgetusermatch.php%3Fdataid%3D29%26tpuid%3D\\\"\\\\r\\\\n        ALLOWTRANSPARENCY=\\\"true\\\"><\\/iframe>\\\\r\\\\n<iframe width=\\\"1\\\" height=\\\"1\\\" noresize=\\\"noresize\\\" scrolling=\\\"no\\\"\\\\r\\\\n        frameborder=\\\"0\\\" marginheight=\\\"0\\\" marginwidth=\\\"0\\\"\\\\r\\\\n        src=\\\"http:\\/\\/ads.pubmatic.com\\/AdServer\\/js\\/user_sync.html?p=41738&predirect=http%3A%2F%2Fads.admized.com%2Frtb%2Fgetusermatch.php%3Fdataid%3D29%26tpuid%3D\\\"\\\\r\\\\n        ALLOWTRANSPARENCY=\\\"true\\\"><\\/iframe>\\\\r\\\\n<iframe width=\\\"1\\\" height=\\\"1\\\" noresize=\\\"noresize\\\" scrolling=\\\"no\\\"\\\\r\\\\n        frameborder=\\\"0\\\" marginheight=\\\"0\\\" marginwidth=\\\"0\\\"\\\\r\\\\n        src=\\\"http:\\/\\/ads.pubmatic.com\\/AdServer\\/js\\/user_sync.html?p=41738&predirect=http%3A%2F%2Fads.admized.com%2Frtb%2Fgetusermatch.php%3Fdataid%3D29%26tpuid%3D\\\"\\\\r\\\\n        ALLOWTRANSPARENCY=\\\"true\\\"><\\/iframe><\\/div>');\\n\\/\\/-->\\n<\\/script>\",\n   \"adid\": \"16185\",\n   \"nurl\": \"http://ads.admized.com/1x1.gif?\",\"cid\": \"1739\",\"crid\": \"16185\",\n   \"ext\":\n   {\n    \"advertiser\": \"Onlinecasino Deutschland\", \"avn\": \"Onlinecasino Deutschland\", \"agn\": \"AdSpirit\", \"defaultpixel\": \"<div class=\\\"asm_add\\\" style=\\\"position:absolute; left:0px; top:0px;\\\"> <iframe src=\\\"http:\\/\\/ip.casalemedia.com\\/usermatch?s=180094&cb=http%3A%2F%2Fads.admized.com%2Frtb%2Fgetusermatch.php%3Fdataid%3D30%26external_user_id%3D\\\" width=\\\"1\\\" height=\\\"1\\\" style=\\\"border:0px solid white;\\\" noresize=\\\"noresize\\\" scrolling=\\\"no\\\"\\r\\n        frameborder=\\\"0\\\" marginheight=\\\"0\\\" marginwidth=\\\"0\\\" ALLOWTRANSPARENCY=\\\"true\\\"\\r\\n><\\/iframe><iframe width=\\\"1\\\" height=\\\"1\\\" noresize=\\\"noresize\\\" scrolling=\\\"no\\\"\\r\\n        frameborder=\\\"0\\\" marginheight=\\\"0\\\" marginwidth=\\\"0\\\"\\r\\n        src=\\\"http:\\/\\/ads.pubmatic.com\\/AdServer\\/js\\/user_sync.html?p=41738&predirect=http%3A%2F%2Fads.admized.com%2Frtb%2Fgetusermatch.php%3Fdataid%3D29%26tpuid%3D\\\"\\r\\n        ALLOWTRANSPARENCY=\\\"true\\\"><\\/iframe>\\r\\n<iframe width=\\\"1\\\" height=\\\"1\\\" noresize=\\\"noresize\\\" scrolling=\\\"no\\\"\\r\\n        frameborder=\\\"0\\\" marginheight=\\\"0\\\" marginwidth=\\\"0\\\"\\r\\n        src=\\\"http:\\/\\/ads.pubmatic.com\\/AdServer\\/js\\/user_sync.html?p=41738&predirect=http%3A%2F%2Fads.admized.com%2Frtb%2Fgetusermatch.php%3Fdataid%3D29%26tpuid%3D\\\"\\r\\n        ALLOWTRANSPARENCY=\\\"true\\\"><\\/iframe>\\r\\n<iframe width=\\\"1\\\" height=\\\"1\\\" noresize=\\\"noresize\\\" scrolling=\\\"no\\\"\\r\\n        frameborder=\\\"0\\\" marginheight=\\\"0\\\" marginwidth=\\\"0\\\"\\r\\n        src=\\\"http:\\/\\/ads.pubmatic.com\\/AdServer\\/js\\/user_sync.html?p=41738&predirect=http%3A%2F%2Fads.admized.com%2Frtb%2Fgetusermatch.php%3Fdataid%3D29%26tpuid%3D\\\"\\r\\n        ALLOWTRANSPARENCY=\\\"true\\\"><\\/iframe><\\/div>\"\n   }\n  }]\n }]\n}\n"}"""
    		println(log)
    val log1 = log.replace("\\n", "").replace("\\\"", "\"")
    println(log1)

    OpenRtbResponseLogEntry.fromJson(log1)
  }
}